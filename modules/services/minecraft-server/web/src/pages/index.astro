---
import BaseLayout from "@layouts/BaseLayout.astro";
import ModItem from "@components/ModItem.astro";
import { getCollection } from "astro:content";

const mods = (await getCollection("mods")).sort(({ data: a }, { data: b }) =>
    a.title.localeCompare(b.title),
);
---

<BaseLayout title="Low-Power Server Catalogue">
    <div class="downloadButtons">
        <a class="button primary" href="/mods/recommended-mods.zip" download
            >Recommended Mods</a
        >
        <a class="button secondary" href="/mods/required-mods.zip" download
            >Required Mods</a
        >
        <a class="button secondary" href="/mods/server-mods.zip" download
            >Server Mods</a
        >
        <a class="button secondary" href="/mods/all-mods.zip" download
            >All Mods</a
        >
    </div>

    <div class="mods">
        {mods.map((mod) => <ModItem showTags={true} {mod} />)}
    </div>
</BaseLayout>

<style>
    .mods {
        margin-top: 1rem;
        display: flex;
        flex-direction: column;
        gap: 1rem;
    }

    .downloadButtons {
        display: flex;
        flex-direction: row;
        gap: 1rem;
        margin-block: 0.5rem;
    }
</style>
